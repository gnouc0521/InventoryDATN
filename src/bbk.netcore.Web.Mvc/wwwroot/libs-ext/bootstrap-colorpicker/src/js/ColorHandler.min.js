/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/bootstrap-colorpicker@3.4.0/src/js/ColorHandler.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";import $ from"jquery";import ColorItem from"./ColorItem";class ColorHandler{constructor(o){this.colorpicker=o}get fallback(){return this.colorpicker.options.fallbackColor?this.colorpicker.options.fallbackColor:this.hasColor()?this.color:null}get format(){return this.colorpicker.options.format?this.colorpicker.options.format:this.hasColor()&&this.color.hasTransparency()&&this.color.format.match(/^hex/)?this.isAlphaEnabled()?"rgba":"hex":this.hasColor()?this.color.format:"rgb"}get color(){return this.colorpicker.element.data("color")}set color(o){this.colorpicker.element.data("color",o),o instanceof ColorItem&&"auto"===this.colorpicker.options.format&&(this.colorpicker.options.format=this.color.format)}bind(){this.colorpicker.options.color?this.color=this.createColor(this.colorpicker.options.color):!this.color&&this.colorpicker.inputHandler.getValue()&&(this.color=this.createColor(this.colorpicker.inputHandler.getValue(),this.colorpicker.options.autoInputFallback))}unbind(){this.colorpicker.element.removeData("color")}getColorString(){return this.hasColor()?this.color.string(this.format):""}setColorString(o){let r=o?this.createColor(o):null;this.color=r||null}createColor(o,r=!0,t=!1){let l=!r&&!t,i=new ColorItem(this.resolveColorDelegate(o),this.format,l);return i.isValid()||(r&&(i=this.getFallbackColor()),this.colorpicker.trigger("colorpickerInvalid",i,o)),this.isAlphaEnabled()||(i.alpha=1),i}getFallbackColor(){if(this.fallback&&this.fallback===this.color)return this.color;let o=this.resolveColorDelegate(this.fallback),r=new ColorItem(o,this.format);return r.isValid()?r:(console.warn("The fallback color is invalid. Falling back to the previous color or black if any."),this.color?this.color:new ColorItem("#000000",this.format))}assureColor(){return this.hasColor()||(this.color=this.getFallbackColor()),this.color}resolveColorDelegate(o,r=!0){let t=!1;return $.each(this.colorpicker.extensions,(function(l,i){!1===t&&(t=i.resolveColor(o,r))})),t||o}isInvalidColor(){return!this.hasColor()||!this.color.isValid()}isAlphaEnabled(){return!1!==this.colorpicker.options.useAlpha}hasColor(){return this.color instanceof ColorItem}}export default ColorHandler;
//# sourceMappingURL=/sm/64b22cf1616d7781a87e77910a20bf3faacf70cacc63bfa7016608e2af301c44.map