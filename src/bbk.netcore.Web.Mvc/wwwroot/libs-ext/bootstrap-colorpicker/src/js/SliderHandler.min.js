/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/bootstrap-colorpicker@3.4.0/src/js/SliderHandler.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";import $ from"jquery";class SliderHandler{constructor(e){this.colorpicker=e,this.currentSlider=null,this.mousePointer={left:0,top:0},this.onMove=$.proxy(this.defaultOnMove,this)}defaultOnMove(e,o){if(!this.currentSlider)return;let r=this.currentSlider,t=this.colorpicker,i=t.colorHandler,s=i.hasColor()?i.color.getClone():i.getFallbackColor();r.guideStyle.left=o+"px",r.guideStyle.top=e+"px",r.callLeft&&s[r.callLeft](o/r.maxLeft),r.callTop&&s[r.callTop](e/r.maxTop),t.setValue(s),t.popupHandler.focus()}bind(){let e=this.colorpicker.options.horizontal?this.colorpicker.options.slidersHorz:this.colorpicker.options.sliders,o=[];for(let r in e)e.hasOwnProperty(r)&&o.push(e[r].selector);this.colorpicker.picker.find(o.join(", ")).on("mousedown.colorpicker touchstart.colorpicker",$.proxy(this.pressed,this))}unbind(){$(this.colorpicker.picker).off({"mousemove.colorpicker":$.proxy(this.moved,this),"touchmove.colorpicker":$.proxy(this.moved,this),"mouseup.colorpicker":$.proxy(this.released,this),"touchend.colorpicker":$.proxy(this.released,this)})}pressed(e){if(this.colorpicker.isDisabled())return;this.colorpicker.lastEvent.alias="pressed",this.colorpicker.lastEvent.e=e,!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY);let o=$(e.target).closest("div"),r=this.colorpicker.options.horizontal?this.colorpicker.options.slidersHorz:this.colorpicker.options.sliders;if(o.is(".colorpicker"))return;this.currentSlider=null;for(let e in r){if(!r.hasOwnProperty(e))continue;let t=r[e];if(o.is(t.selector)){this.currentSlider=$.extend({},t,{name:e});break}if(void 0!==t.childSelector&&o.is(t.childSelector)){this.currentSlider=$.extend({},t,{name:e}),o=o.parent();break}}let t=o.find(".colorpicker-guide").get(0);if(null===this.currentSlider||null===t)return;let i=o.offset();this.currentSlider.guideStyle=t.style,this.currentSlider.left=e.pageX-i.left,this.currentSlider.top=e.pageY-i.top,this.mousePointer={left:e.pageX,top:e.pageY},$(this.colorpicker.picker).on({"mousemove.colorpicker":$.proxy(this.moved,this),"touchmove.colorpicker":$.proxy(this.moved,this),"mouseup.colorpicker":$.proxy(this.released,this),"touchend.colorpicker":$.proxy(this.released,this)}).trigger("mousemove")}moved(e){this.colorpicker.lastEvent.alias="moved",this.colorpicker.lastEvent.e=e,!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.preventDefault();let o=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),r=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));this.onMove(r,o)}released(e){this.colorpicker.lastEvent.alias="released",this.colorpicker.lastEvent.e=e,$(this.colorpicker.picker).off({"mousemove.colorpicker":this.moved,"touchmove.colorpicker":this.moved,"mouseup.colorpicker":this.released,"touchend.colorpicker":this.released})}}export default SliderHandler;
//# sourceMappingURL=/sm/18e30f407377a8dec61a98a5953d82b4b67dc39f298d3e28df43e514a7870387.map