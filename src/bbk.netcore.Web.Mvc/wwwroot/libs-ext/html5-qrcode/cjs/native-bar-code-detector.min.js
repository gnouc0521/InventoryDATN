/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/html5-qrcode@2.3.4/cjs/native-bar-code-detector.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(a,c){function n(e){try{s(o.next(e))}catch(e){c(e)}}function i(e){try{s(o.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,i)}s((o=o.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var r,o,a,c,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function i(c){return function(i){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(a=2&c[0]?o.return:c[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,c[1])).done)return a;switch(o=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(!(a=n.trys,(a=a.length>0&&a[a.length-1])||6!==c[0]&&2!==c[0])){n=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(6===c[0]&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(e){c=[6,e],o=0}finally{r=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,i])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BarcodeDetectorDelegate=void 0;var core_1=require("./core"),BarcodeDetectorDelegate=function(){function e(t,r,o){if(this.formatMap=new Map([[core_1.Html5QrcodeSupportedFormats.QR_CODE,"qr_code"],[core_1.Html5QrcodeSupportedFormats.AZTEC,"aztec"],[core_1.Html5QrcodeSupportedFormats.CODABAR,"codabar"],[core_1.Html5QrcodeSupportedFormats.CODE_39,"code_39"],[core_1.Html5QrcodeSupportedFormats.CODE_93,"code_93"],[core_1.Html5QrcodeSupportedFormats.CODE_128,"code_128"],[core_1.Html5QrcodeSupportedFormats.DATA_MATRIX,"data_matrix"],[core_1.Html5QrcodeSupportedFormats.ITF,"itf"],[core_1.Html5QrcodeSupportedFormats.EAN_13,"ean_13"],[core_1.Html5QrcodeSupportedFormats.EAN_8,"ean_8"],[core_1.Html5QrcodeSupportedFormats.PDF_417,"pdf417"],[core_1.Html5QrcodeSupportedFormats.UPC_A,"upc_a"],[core_1.Html5QrcodeSupportedFormats.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=o;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&void 0!==new BarcodeDetector({formats:["qr_code"]})},e.prototype.decodeAsync=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r;return __generator(this,(function(o){switch(o.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=o.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(t)).rawValue,format:core_1.QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}}))}))},e.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,o=0,a=e;o<a.length;o++){var c=a[o],n=c.boundingBox.width*c.boundingBox.height;n>r&&(r=n,t=c)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,o=e;r<o.length;r++){var a=o[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.warn(a+" is not supported byBarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have "+e;return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,r,o){e.set(t,r)})),e},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}();exports.BarcodeDetectorDelegate=BarcodeDetectorDelegate;
//# sourceMappingURL=/sm/e5ec60efa6e7d7d8f81378901303d41a5165bdb8357e7af3d9e9b03ac04786d5.map