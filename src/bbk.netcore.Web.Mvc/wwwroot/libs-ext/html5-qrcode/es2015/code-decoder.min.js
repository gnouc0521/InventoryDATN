/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/html5-qrcode@2.3.4/es2015/code-decoder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __awaiter=this&&this.__awaiter||function(e,t,r,o){return new(r||(r=Promise))((function(s,i){function c(e){try{d(o.next(e))}catch(e){i(e)}}function n(e){try{d(o.throw(e))}catch(e){i(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,n)}d((o=o.apply(e,t||[])).next())}))};import{ZXingHtml5QrcodeDecoder}from"./zxing-html5-qrcode-decoder";import{BarcodeDetectorDelegate}from"./native-bar-code-detector";export class Html5QrcodeShim{constructor(e,t,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&BarcodeDetectorDelegate.isSupported()?(this.primaryDecoder=new BarcodeDetectorDelegate(e,r,o),this.secondaryDecoder=new ZXingHtml5QrcodeDecoder(e,r,o)):this.primaryDecoder=new ZXingHtml5QrcodeDecoder(e,r,o)}decodeAsync(e){return __awaiter(this,void 0,void 0,(function*(){let t=performance.now();try{return yield this.getDecoder().decodeAsync(e)}finally{this.possiblyLogPerformance(t)}}))}decodeRobustlyAsync(e){return __awaiter(this,void 0,void 0,(function*(){let t=performance.now();try{return yield this.primaryDecoder.decodeAsync(e)}catch(t){if(this.secondaryDecoder)return this.secondaryDecoder.decodeAsync(e);throw t}finally{this.possiblyLogPerformance(t)}}))}getDecoder(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder}possiblyLogPerformance(e){if(!this.verbose)return;let t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}possiblyFlushPerformanceReport(){if(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)return;let e=0;for(let t of this.executionResults)e+=t;let t=e/this.executionResults.length;console.log(`${t} ms for ${this.executionResults.length} last runs.`),this.executions=0,this.executionResults=[]}}
//# sourceMappingURL=/sm/e49ba8747a3604b3e2d632bc7794c5722d5f51ddc13f74aa563337b46f37295f.map