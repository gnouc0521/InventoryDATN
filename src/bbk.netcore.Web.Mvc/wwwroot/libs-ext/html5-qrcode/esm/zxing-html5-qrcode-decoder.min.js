/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/html5-qrcode@2.3.4/esm/zxing-html5-qrcode-decoder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as ZXing from"../third_party/zxing-js.umd";import{QrcodeResultFormat,Html5QrcodeSupportedFormats}from"./core";var ZXingHtml5QrcodeDecoder=function(){function r(r,t,o){if(this.formatMap=new Map([[Html5QrcodeSupportedFormats.QR_CODE,ZXing.BarcodeFormat.QR_CODE],[Html5QrcodeSupportedFormats.AZTEC,ZXing.BarcodeFormat.AZTEC],[Html5QrcodeSupportedFormats.CODABAR,ZXing.BarcodeFormat.CODABAR],[Html5QrcodeSupportedFormats.CODE_39,ZXing.BarcodeFormat.CODE_39],[Html5QrcodeSupportedFormats.CODE_93,ZXing.BarcodeFormat.CODE_93],[Html5QrcodeSupportedFormats.CODE_128,ZXing.BarcodeFormat.CODE_128],[Html5QrcodeSupportedFormats.DATA_MATRIX,ZXing.BarcodeFormat.DATA_MATRIX],[Html5QrcodeSupportedFormats.MAXICODE,ZXing.BarcodeFormat.MAXICODE],[Html5QrcodeSupportedFormats.ITF,ZXing.BarcodeFormat.ITF],[Html5QrcodeSupportedFormats.EAN_13,ZXing.BarcodeFormat.EAN_13],[Html5QrcodeSupportedFormats.EAN_8,ZXing.BarcodeFormat.EAN_8],[Html5QrcodeSupportedFormats.PDF_417,ZXing.BarcodeFormat.PDF_417],[Html5QrcodeSupportedFormats.RSS_14,ZXing.BarcodeFormat.RSS_14],[Html5QrcodeSupportedFormats.RSS_EXPANDED,ZXing.BarcodeFormat.RSS_EXPANDED],[Html5QrcodeSupportedFormats.UPC_A,ZXing.BarcodeFormat.UPC_A],[Html5QrcodeSupportedFormats.UPC_E,ZXing.BarcodeFormat.UPC_E],[Html5QrcodeSupportedFormats.UPC_EAN_EXTENSION,ZXing.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ZXing)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=o;var e=this.createZXingFormats(r),a=new Map;a.set(ZXing.DecodeHintType.POSSIBLE_FORMATS,e),a.set(ZXing.DecodeHintType.TRY_HARDER,!1),this.hints=a}return r.prototype.decodeAsync=function(r){var t=this;return new Promise((function(o,e){try{o(t.decode(r))}catch(r){e(r)}}))},r.prototype.decode=function(r){var t=new ZXing.MultiFormatReader(this.verbose,this.hints),o=new ZXing.HTMLCanvasElementLuminanceSource(r),e=new ZXing.BinaryBitmap(new ZXing.HybridBinarizer(o)),a=t.decode(e);return{text:a.text,format:QrcodeResultFormat.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach((function(t,o,e){r.set(t,o)})),r},r.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have "+r;return this.reverseFormatMap.get(r)},r.prototype.createZXingFormats=function(r){for(var t=[],o=0,e=r;o<e.length;o++){var a=e[o];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.logError(a+" is not supported byZXingHtml5QrcodeShim")}return t},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}();export{ZXingHtml5QrcodeDecoder};
//# sourceMappingURL=/sm/96d4cd874d7965044d2b241273c0c316d30154580b9f11718f0370979c9e9675.map