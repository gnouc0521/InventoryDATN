/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/summernote@0.8.20/src/js/editing/Style.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import $ from"jquery";import func from"../core/func";import lists from"../core/lists";import dom from"../core/dom";export default class Style{jQueryCSS(e,t){const o={};return $.each(t,((t,n)=>{o[n]=e.css(n)})),o}fromNode(e){const t=this.jQueryCSS(e,["font-family","font-size","text-align","list-style-type","line-height"])||{},o=e[0].style.fontSize||t["font-size"];return t["font-size"]=parseInt(o,10),t["font-size-unit"]=o.match(/[a-z%]+$/),t}stylePara(e,t){$.each(e.nodes(dom.isPara,{includeAncestor:!0}),((e,o)=>{$(o).css(t)}))}styleNodes(e,t){e=e.splitText();const o=t&&t.nodeName||"SPAN",n=!(!t||!t.expandClosestSibling),s=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(dom.create(o))];let i=dom.makePredByNodeName(o);const r=e.nodes(dom.isText,{fullyContains:!0}).map((e=>dom.singleChildAncestor(e,i)||dom.wrap(e,o)));if(n){if(s){const t=e.nodes();i=func.and(i,(e=>lists.contains(t,e)))}return r.map((e=>{const t=dom.withClosestSiblings(e,i),o=lists.head(t),n=lists.tail(t);return $.each(n,((e,t)=>{dom.appendChildNodes(o,t.childNodes),dom.remove(t)})),lists.head(t)}))}return r}current(e){const t=$(dom.isElement(e.sc)?e.sc:e.sc.parentNode);let o=this.fromNode(t);try{o=$.extend(o,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||o["font-family"]})}catch(e){}if(e.isOnList()){const e=["circle","disc","disc-leading-zero","square"].indexOf(o["list-style-type"])>-1;o["list-style"]=e?"unordered":"ordered"}else o["list-style"]="none";const n=dom.ancestor(e.sc,dom.isPara);if(n&&n.style["line-height"])o["line-height"]=n.style.lineHeight;else{const e=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=e.toFixed(1)}return o.anchor=e.isOnAnchor()&&dom.ancestor(e.sc,dom.isAnchor),o.ancestors=dom.listAncestor(e.sc,dom.isEditable),o.range=e,o}}
//# sourceMappingURL=/sm/c3694248bf361b8e24f7c3fae9238a6b2f828bc2b46f8bb473f08e5f850a2ee2.map