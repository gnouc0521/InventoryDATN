/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/summernote@0.8.20/src/js/module/AirPopover.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import $ from"jquery";import lists from"../core/lists";const AIRMODE_POPOVER_X_OFFSET=-5,AIRMODE_POPOVER_Y_OFFSET=5;export default class AirPopover{constructor(t){this.context=t,this.ui=$.summernote.ui,this.options=t.options,this.hidable=!0,this.onContextmenu=!1,this.pageX=null,this.pageY=null,this.events={"summernote.contextmenu":t=>{this.options.editing&&(t.preventDefault(),t.stopPropagation(),this.onContextmenu=!0,this.update(!0))},"summernote.mousedown":(t,e)=>{this.pageX=e.pageX,this.pageY=e.pageY},"summernote.keyup summernote.mouseup summernote.scroll":(t,e)=>{this.options.editing&&!this.onContextmenu&&(this.pageX=e.pageX,this.pageY=e.pageY,this.update()),this.onContextmenu=!1},"summernote.disable summernote.change summernote.dialog.shown summernote.blur":()=>{this.hide()},"summernote.focusout":()=>{this.$popover.is(":active,:focus")||this.hide()}}}shouldInitialize(){return this.options.airMode&&!lists.isEmpty(this.options.popover.air)}initialize(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);const t=this.$popover.find(".popover-content");this.context.invoke("buttons.build",t,this.options.popover.air),this.$popover.on("mousedown",(()=>{this.hidable=!1})),this.$popover.on("mouseup",(()=>{this.hidable=!0}))}destroy(){this.$popover.remove()}update(t){const e=this.context.invoke("editor.currentStyle");if(!e.range||e.range.isCollapsed()&&!t)this.hide();else{let t={left:this.pageX,top:this.pageY};const e=$(this.options.container).offset();t.top-=e.top,t.left-=e.left,this.$popover.css({display:"block",left:Math.max(t.left,0)+-5,top:t.top+5}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}updateCodeview(t){this.ui.toggleBtnActive(this.$popover.find(".btn-codeview"),t),t&&this.hide()}hide(){this.hidable&&this.$popover.hide()}}
//# sourceMappingURL=/sm/def948243d66feb2c078ca9288654e3e7244f869ed43bee797e45a60316d76bb.map