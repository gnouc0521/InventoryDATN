/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/summernote@0.8.20/src/js/module/AutoLink.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import $ from"jquery";import lists from"../core/lists";import key from"../core/key";const defaultScheme="http://",linkPattern=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|tel:|mailto:[A-Z0-9._%+-]+@|xmpp:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;export default class AutoLink{constructor(t){this.context=t,this.options=t.options,this.events={"summernote.keyup":(t,e)=>{e.isDefaultPrevented()||this.handleKeyup(e)},"summernote.keydown":(t,e)=>{this.handleKeydown(e)}}}initialize(){this.lastWordRange=null}destroy(){this.lastWordRange=null}replace(){if(!this.lastWordRange)return;const t=this.lastWordRange.toString(),e=t.match(linkPattern);if(e&&(e[1]||e[2])){const o=e[1]?t:"http://"+t,n=this.options.showDomainOnlyForAutolink?t.replace(/^(?:https?:\/\/)?(?:tel?:?)?(?:mailto?:?)?(?:xmpp?:?)?(?:www\.)?/i,"").split("/")[0]:t,i=$("<a></a>").html(n).attr("href",o)[0];this.context.options.linkTargetBlank&&$(i).attr("target","_blank"),this.lastWordRange.insertNode(i),this.lastWordRange=null,this.context.invoke("editor.focus")}}handleKeydown(t){if(lists.contains([key.code.ENTER,key.code.SPACE],t.keyCode)){const t=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=t}}handleKeyup(t){lists.contains([key.code.ENTER,key.code.SPACE],t.keyCode)&&this.replace()}}
//# sourceMappingURL=/sm/2b29884518ad0abdabecda7a31213ba7c4a0c596cf9f02f2c65d26a985761712.map