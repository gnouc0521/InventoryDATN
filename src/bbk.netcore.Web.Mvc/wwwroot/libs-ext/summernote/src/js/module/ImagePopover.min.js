/**
 * Minified by jsDelivr using Terser v5.9.0.
 * Original file: /npm/summernote@0.8.20/src/js/module/ImagePopover.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import $ from"jquery";import lists from"../core/lists";import dom from"../core/dom";export default class ImagePopover{constructor(o){this.context=o,this.ui=$.summernote.ui,this.editable=o.layoutInfo.editable[0],this.options=o.options,this.events={"summernote.disable summernote.dialog.shown":()=>{this.hide()},"summernote.blur":(o,t)=>{t.originalEvent&&t.originalEvent.relatedTarget&&this.$popover[0].contains(t.originalEvent.relatedTarget)||this.hide()}}}shouldInitialize(){return!lists.isEmpty(this.options.popover.image)}initialize(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);const o=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",o,this.options.popover.image),this.$popover.on("mousedown",(o=>{o.preventDefault()}))}destroy(){this.$popover.remove()}update(o,t){if(dom.isImg(o)){const e=$(o).offset(),i=$(this.options.container).offset();let s={};this.options.popatmouse?(s.left=t.pageX-20,s.top=t.pageY):s=e,s.top-=i.top,s.left-=i.left,this.$popover.css({display:"block",left:s.left,top:s.top})}else this.hide()}hide(){this.$popover.hide()}}
//# sourceMappingURL=/sm/210cd5e820be328408d75163406dc50d4f87a18d16d729b829e1f929af050666.map