(function(){function t(){n.ajax.reload()}var i=$("#StaffTable"),r=abp.services.app.purchasesSynthesise,u=abp.services.app.purchaseAssignmentService,f,n;moment.locale(abp.localization.currentLanguage.name);f=function(){let n={};return n.id=$("#SynthesiseId").val().trim(),n};n=i.DataTable({paging:!0,serverSide:!1,processing:!0,searching:!0,language:{emptyTable:"Không tìm thấy dữ liệu",lengthMenu:"Hiển thị _MENU_ bản ghi",zeroRecords:"Không tìm thấy dữ liệu",searchPlaceholder:"Tìm kiếm"},bInfo:!1,bLengthChange:!1,lengthMenu:[[5,10,25,50,-1],[5,10,25,50,"Tất cả"],],pageLength:5,listAction:{ajaxFunction:r.getItemByStaff},columnDefs:[{orderable:!1,targets:0,render:function(n,t,i,r){return r.row+1}},{orderable:!1,targets:1,data:"purchasesSynthesiseCode",render:function(n,t,i){return`
                        <a class="purchasesSynthesiseCode" data-objid='`+i.purchasesSynthesiseId+`' href='javascript:void(0); '>`+i.purchasesSynthesiseCode+`</a>
                    `}},{orderable:!1,targets:2,data:"getPriceStatus",className:"align-middle text-center",render:function(n,t,i){return i.getPriceStatus==2?`<span class="span_status span-defaut"> Mới </span>`:i.getPriceStatus==0?i.creatorUserId!=abp.session.userId?`<span class="span_status span-approve"> Hoàn thành </span>`:`<span class="span_status span-approve"> NCC Xác nhận </span>`:i.getPriceStatus==3?`<span class="span_status span-reject"> Từ chối </span>`:void 0}},]});$("#StaffTable").on("click",".doceditfunc",function(){var n=$(this),i={id:n[0].dataset.objid};u.changGetPriceStatus(i).done(function(){abp.notify.info("Cập nhật thành công!");t()})});$("#StaffTable").on("click",".purchasesSynthesiseCode",function(){var n=$(this),t={purchasesSynthesiseId:n[0].dataset.objid};abp.ajax({contentType:"application/x-www-form-urlencoded",url:abp.appPath+"Inventorys/Items/OverView?Id="+t.purchasesSynthesiseId,success:function(n){window.location.href="/Inventorys/MyWork/Update?id="+n.id}})});abp.event.on("app.reloadDocTable",function(){t()})})(jQuery);